<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand" onclick="window.location.href='index.html'">Home</div>
        <ul class="nav-links">
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>

    <div class="scroll-indicator">
        <div class="scroll-progress"></div>
        <div class="section-marker" data-section="home"></div>
        <div class="section-marker" data-section="about"></div>
        <div class="section-marker" data-section="projects"></div>
        <div class="section-marker" data-section="contact"></div>
    </div>

    <main>
        <section id="home" class="hero">
            <h1>Welcome to My Portfolio</h1>
            <p class="subtitle">Full-Stack Developer</p>
        </section>

        <section id="about">
            <h2>About Me</h2>
            <p>A passionate developer dedicated to creating beautiful and functional web experiences. With several years of experience in full-stack development, I specialize in building responsive and user-friendly applications. My journey in software development began with a curiosity for problem-solving and has evolved into a deep appreciation for clean code and innovative solutions.</p>
            <div class="section-link">
                <a href="about.html" class="btn">Learn More About Me <i class="fas fa-arrow-right"></i></a>
            </div>
        </section>

        <section id="projects">
            <h2>My Projects</h2>
            <div class="projects-grid">
                <div class="project-card" onclick="window.location.href='projects.html'">
                    <h3>Casino Game</h3>
                    <p>A comprehensive C++ casino game featuring multiple classic games including Blackjack, Slots, and Poker.</p>
                </div>
                <div class="project-card" onclick="window.location.href='projects.html'">
                    <h3>Base Conversion</h3>
                    <p>A Python application for converting numbers between different number bases with a user-friendly interface.</p>
                </div>
                <div class="project-card" onclick="window.location.href='projects.html'">
                    <h3>Map Background</h3>
                    <p>A Python project implementing map visualization and background processing capabilities.</p>
                </div>
                <div class="project-card" onclick="window.location.href='projects.html'">
                    <h3>Project 4</h3>
                    <p>A C++ project showcasing advanced programming concepts and problem-solving skills.</p>
                </div>
            </div>
            <div class="section-link">
                <a href="projects.html" class="btn">View All Projects <i class="fas fa-arrow-right"></i></a>
            </div>
        </section>

        <section id="contact">
            <h2>Contact Me</h2>
            <div class="social-links">
                <a href="https://github.com/Colby-Frison" class="social-icon" target="_blank"><i class="fab fa-github"></i></a>
                <a href="https://www.linkedin.com/in/colby-frison-892680327" class="social-icon" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
            <div class="section-link">
                <a href="contact.html" class="btn">Get in Touch <i class="fas fa-arrow-right"></i></a>
            </div>
        </section>
    </main>

    <script>
        const sections = document.querySelectorAll('section');
        const navBrand = document.querySelector('.nav-brand');
        const navLinks = document.querySelectorAll('.nav-links a');
        const scrollProgress = document.querySelector('.scroll-progress');
        const sectionMarkers = document.querySelectorAll('.section-marker');
        let currentSection = 'home';

        // Position section markers
        function positionSectionMarkers() {
            const scrollIndicatorHeight = document.querySelector('.scroll-indicator').offsetHeight;
            sectionMarkers.forEach((marker, index) => {
                marker.style.top = `${(index * scrollIndicatorHeight) / (sections.length - 1)}px`;
            });
        }

        // Update section markers
        function updateSectionMarkers(newSection) {
            if (newSection === null) return;
            
            currentSection = newSection;
            sectionMarkers.forEach(marker => {
                const section = marker.getAttribute('data-section');
                marker.classList.toggle('active', section === currentSection);
            });
        }

        // Handle home click
        navBrand.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Handle navigation clicks
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                const href = link.getAttribute('href');
                // If it's an external page link (contains .html), let it navigate normally
                if (href.includes('.html')) {
                    return;
                }
                // Otherwise handle smooth scroll for same-page links
                e.preventDefault();
                const targetId = href.substring(1);
                const targetSection = document.getElementById(targetId);
                const windowHeight = window.innerHeight;
                const triggerPoint = windowHeight / 3;
                const targetPosition = targetSection.offsetTop - triggerPoint;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            });
        });

        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const scrollHeight = document.documentElement.scrollHeight - windowHeight;
            const scrolled = window.scrollY;
            const isAtBottom = Math.ceil(scrolled) >= scrollHeight - 10;
            
            // Update scroll progress
            const progress = (scrolled / scrollHeight) * 100;
            scrollProgress.style.height = `${progress}%`;
            
            let newCurrent = null;
            
            // Check if we're at the bottom of the page
            if (isAtBottom) {
                newCurrent = 'contact';
                navBrand.classList.remove('active');
            } else {
                // If we just left the bottom, immediately switch to projects
                if (currentSection === 'contact') {
                    newCurrent = 'projects';
                }
                
                // Check each section's heading position
                sections.forEach((section) => {
                    const sectionId = section.getAttribute('id');
                    if (sectionId === 'home') {
                        // Home section is active when at the top
                        if (scrolled < windowHeight / 2) {
                            newCurrent = 'home';
                            navBrand.classList.add('active');
                        } else {
                            navBrand.classList.remove('active');
                        }
                    } else if (sectionId === 'projects') {
                        // For projects section (second to last), check if we're past its heading
                        const heading = section.querySelector('h2');
                        if (heading) {
                            const headingRect = heading.getBoundingClientRect();
                            const headingMiddle = headingRect.top + headingRect.height / 2;
                            if (Math.abs(headingMiddle - windowHeight / 2) < 100 || 
                                (headingRect.top < windowHeight / 2 && !isAtBottom)) {
                                newCurrent = sectionId;
                                navBrand.classList.remove('active');
                            }
                        }
                    } else if (sectionId === 'about') {
                        // For about section, check heading position
                        const heading = section.querySelector('h2');
                        if (heading) {
                            const headingRect = heading.getBoundingClientRect();
                            const headingMiddle = headingRect.top + headingRect.height / 2;
                            if (Math.abs(headingMiddle - windowHeight / 2) < 100) {
                                newCurrent = sectionId;
                                navBrand.classList.remove('active');
                            }
                        }
                    }
                });
            }

            // Only update if we have a new active section
            if (newCurrent !== null) {
                // Update navigation links
                navLinks.forEach(link => {
                    const sectionId = link.getAttribute('href').substring(1);
                    link.classList.toggle('active', sectionId === newCurrent);
                });
                
                // Update section markers
                updateSectionMarkers(newCurrent);
            }
        });

        // Initialize section markers
        window.addEventListener('load', () => {
            positionSectionMarkers();
            navBrand.classList.add('active');
            updateSectionMarkers('home');
        });

        // Update section markers position on window resize
        window.addEventListener('resize', positionSectionMarkers);
    </script>
</body>
</html>